# 람다(Lambda)

## 람다 표현식 (lambda expression)

### 정의
람다 표현식은 메소드를 하나의 식으로 표현한 것이다. python, c++ 등 기타 언어에도 존재하는 익숙한 문법이다.

```java
/** 메소드 **/
int min(int x, int y){
    return x< y ? x : y;
}
```
```java
/** 람다 표현식 **/
(x,y)->x< y ? x : y;
```

위처럼 메소드를 람다 표현식으로 표현하면, 클래스를 작성하고 객체를 생성하지 않아도 메소드를 사용할 수 있다.

람다 표현식은 익명 클래스와 달리 하나의 메소드만을 가지고 있으므로, 함수형 인터페이스라는 인터페이스를 사용한다.

> #### 익명 클래스 
> 클래스의 선언과 동시에 객체가 생성되어, 단 하나의 객체만을 생성할 수 있는 클래스를 말한다.
익명 클래스라 불리는 이유는, 메소드를 람다 표현식으로 표현했을 때, 메소드의 이름과 반환값이 없어지기 때문이다.

> #### 함수형 인터페이스
> 하나의 추상 메소드만을 가지고 있는 인터페이스를 말한다. 여기서 추상 메소드란 메소드의 선언부만 있고 구현부가 없는 메소드를 말한다.
즉, 자식 클래스에서 반드시 오버라이딩 해야만 사용할 수 있는 메소드를 의미한다. 자바에서는 람다 표현식을 사용하기 위해 함수형 인터페이스라는 새로운 인터페이스를 제공한다.


```java
/** 람다 표현식 **/
new Object(){
        int min(int x,int y){
        return x<y ?x:y;
        }
        }
```

이런 람다 표현식은 메소드의 매개변수로 전달될 수도 있으며, 메소드의 결과값으로 반환될 수도 있다.

따라서 람다 표현식을 사용하면, 기존의 불필요한 코드를 줄여주고, 작성된 코드의 가독성을 높여준다.

<br>

### 작성

자바에서는 화살표(->) 기호를 사용해서 람다 표현식을 작성한다.

`(매개변수) -> {함수 몸체;}`

> **작성시 유의사항**
> 1. 매개변수의 타입을 추론할 수 있는 경우 타입을 생략할 수 있다.
> 2. 매개변수가 하나인 경우에는 괄호(())를 생략할 수 있다.
> 3. 함수 몸체가 하나의 명령문만으로 이루어진 경우에는 중괄호({})를 생략할 수 있다. (이 때 세미콜론은 x)
> 4. 함수 몸체가 하나의 return 문으로만 이루어진 경우에는 중괄호를 생략할 수 없다.
> 5. 함수 몸체가 하나의 return 문으로만 이루어진 경우에는 return 문을 생략하고 표현식으로 대체할 수 있다.

<br>

### 사용

```java
/** 전통 방식 **/
new Thread(newRunnable(){
    public void run(){
        System.out.println("Hello World");}
    }).start();
```

```java
/** 람다 표현식 **/
new Thread(()->System.out.println("Hello World")).start();
```

<br>

### 함수형 인터페이스
람다 표현식을 사용할 때는 람다 표현식을 저장하기 위한 참조 변수의 타입을 결정해야만 한다.

`참조변수의타입` `참조변수의이름` = `람다식`

람다 표현식을 하나의 변수에 대입할 때 사용하는 참조 변수의 타입을 함수형 인터페이스라고 부른다.

함수형 인터페이스는 추상 클래스와는 달리 단 하나의 추상 메소드만을 가져야 한다.

또한 `@FunctionalInterface` 와 같은 어노테이션(annotation)을 사용하여 함수형 인터페이스임을 명시할 수 있다.

해당 어노테이션을 인터페이스의 선언 앞에 붙이면, 컴파일러는 해당 인터페이스를 함수형 인터페이스로 인식한다.

자바 컴파일러는 이렇게 명시된 함수형 인터페이스에 두개 이상의 메소드가 선언하면 오류를 발생시킨다.

```java
@FunctionalInterface
interface Calc{
    public int min(int x, int y);
}
```

```java
public class Lambda02{
    public static void main(String[] args){
        Calc c = (x,y)->x<y ? x:y; //추상 메소드의 구현
        System.out.println(c.min(3,5)); //함수형 인터페이스의 사용
    }
}
```

<br>

- 출처 : http://www.tcpschool.com/java/java_lambda_concept

---

## 더블 콜론 ::
메소드 레퍼런스라고도 불린다. Java 8에서 도입되었으며, 람다식과 같은 기능을 한다.
람다식과의 차이점은 인스턴스를 활용하여 메소드를 전달하는 데에 있다.