## 스트림

> 스트림 : Java 8에 도입된 Stream API는 개체 컬렉션을 처리하는 데 사용됩니다. 스트림은 원하는 결과를 생성하기 위해 파이프라인으로 연결할 수 있는 다양한 메서드를 지원하는 일련의 개체입니다.


이 stream을 통해 프로그래머가 귀중한 시간을 절약하고, 편리한 삶을 누릴 수 있도록 하였다. 하나씩 알아보자.


### 스트림의 이점

- 멀티스레드 코드를 구현하지 않아도 데이터를 투명하게 병렬 처리 가능
- 선언형으로 컬렉션 데이터 처리 가능
- 소프트웨어 공학적으로 다양한 이득을 준다. 
- 데이터 처리 과정을 병렬화
  - 스레드와 락 걱정 X


### 스트림의 이면
- 스트림 API 는 매우 비싼 연산이다. 

### 스트림의 특징

- 선언형 : 더 간결하고 가독성이 올라간다.
- 조립할 수 있다 : 유연성이 좋아진다. 
- 병렬화 : 성능이 좋아진다.




### 스트림의 정확한 정의

> 스트림 : 데이터 처리 연산을 지원하도록 소스에서 추출된 연속된 **`요소`**



### 요소?

- 연속된 요소 : 특정 요소 형식으로 이루어진 연속된 값
- 소스 : 컬렉션, 배열, I/O 자원 등의 데이터 제공 소스로부터 데이터를 소비
- 데이터 처리 연산 : 일반적 프로그래밍 연산 + 데이터베이스와 비슷한 연산 수행


### 특징

- 파이프라이닝 : 스트림 연산끼리 연결해서 커다란 파이프라인을 구성할 수 있도록 스트림 자신을 반환
- 내부 반복
- 스트림은 요청할 때만 요소를 계산하는 고정된 자료구조
- 딱 한 번만 탐색할 수 있다. -> 스트림의 요소를 소비하기 때문에


### 외부 반복 vs 내부 반복

- 외부 반복 : 사용자가 직접 요소를 반복하는 형태
  - 병렬성을 스스로 관리
- 내부 반복 : 반복을 알아서 처리하고 결과 스트링값을 어딘가에 저장
    - 투명하게 병렬 처리 가능
    - 최적화된 다양한 순서 처리


### 스트림 중간 연산 



| 연산     | 반환 형식       | 연산의 인수          | 연산의 인수        |
|--------|-------------|-----------------|---------------|
| filter | Stream< T > | Predicate< T >  | T->boolean    |
| map    | Stream< T > | Function<T, R>  | T->R          |
| limit  | Stream< T > |                 |          |
| map    | Stream< T > | Comporator< T > | (T, T) -> int |
| limit  | Stream< T > |                 |         |



### 스트림 최종 연산

| 연산      | 반환 형식         | 목적                                  |
|---------|---------------|-------------------------------------|
| forEach | void          | 스트림의 각 요소를 소비하면서 람다 적용              |
| count   | long(generic) | 스트림의 요소 개수 반환                       |
| collect |   | 스트림을 리듀스해서 리스트, 맵, 정수 형식의 컬렉션을 만든다. |






### 정리

- 스트림은 소스에서 추출된 연속 요소, 데이터 처리 연산 지원
- 스트림은 내부 반복
  - filter, map, sorted 등의 연산으로 반복 추상화
- 스트림엔 중간 연산, 최종 연산이 있다.
- 중간 연산은 다른 연산과 연결되는 연산 -> 어떤 결과를 생성할 순 없다.
- forEach, count 처럼 스트림 파이프라인을 처리해서 스트림이 아닌 결과를 반환하는 연산 최종 연산
- 스트림의 요소는 요청할 때 게으르게 계산


